<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Libraries by norbert-burza</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Libraries</h1>
        <p class="header"></p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/norbert-burza/libraries/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/norbert-burza/libraries/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/norbert-burza/libraries">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/norbert-burza">norbert-burza</a></p>


      </header>
      <section>
        <p>There are:
a) static libraries (<em>.a)
b) shared libraries (</em>.so)</p>

<p>Static library is essentialy a set of object files.</p>

<p>How to create an object file?
tools.cpp</p>

<div class="highlight highlight-source-c++"><pre>    #<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>iostream<span class="pl-pds">&gt;</span></span>

    <span class="pl-k">using</span> <span class="pl-k">namespace</span> <span class="pl-en">std</span><span class="pl-k">;</span>

    <span class="pl-k">int</span> <span class="pl-en">foo</span>()
    {
    cout &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span>I'm foo()<span class="pl-pds">"</span></span> &lt;&lt; endl;
    }</pre></div>

<p>g++ -c tools.cpp
"the -c option says not to run the linker" (man page citation)
Result: tools.o (an object file)</p>

<p>How to create a static library?
ar -cq libtools.a tools.o</p>

<p>And check the results:
[root@norbert-redhat lib]# ar -t libtools.a
tools.o</p>

<p>So... how to use it?
main.cpp</p>

<div class="highlight highlight-source-c++"><pre>#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>iostream<span class="pl-pds">&gt;</span></span>
#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">"</span>tools.h<span class="pl-pds">"</span></span>

<span class="pl-k">using</span> <span class="pl-k">namespace</span> <span class="pl-en">std</span><span class="pl-k">;</span>

<span class="pl-k">int</span> <span class="pl-en">main</span>()
{
        cout &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span>I'm calling foo()...<span class="pl-pds">"</span></span> &lt;&lt; endl;
        <span class="pl-c1">foo</span>();
        cout &lt;&lt; <span class="pl-s"><span class="pl-pds">"</span>I'm back!<span class="pl-pds">"</span></span> &lt;&lt; endl;
}</pre></div>

<div class="highlight highlight-source-shell"><pre>g++ -L <span class="pl-c1">.</span> main.cpp -ltools</pre></div>

<p>Możesz znaleźć biblioteki statyczne
find / -name *.a 2&gt;/dev/null</p>

<p>Co jest w takim archiwum
ar -t toextract.a</p>

<p>Biblioteka statyczna to tak naprawdę pliki .o
pliki pośrednie?</p>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
